$.fn.hijriDate = function (t = {}) { const a = void 0 === t.showWeekDay || t.showWeekDay, r = void 0 !== t.showGregDate && t.showGregDate, n = t.separator && "string" == typeof t.separator ? t.separator : "-", o = t.weekDayLang && "string" == typeof t.weekDayLang ? t.weekDayLang : "ar", i = (t.hijriLang && "string" == typeof t.hijriLang && t.hijriLang, t.gregLang && "string" == typeof t.gregLang ? t.gregLang : "ar"), s = new Date, h = "ar" === i ? "م" : ""; let y; function g(t, e, a) { this.year = t, this.month = e, this.day = a, this.toFixed = u, this.toString = c } function u() { return this.day + Math.ceil(29.5 * (this.month - 1)) + 354 * (this.year - 1) + Math.floor((3 + 11 * this.year) / 30) + 227015 - 1 } function c() { return `${this.year}` } const d = s.getFullYear(); let f = s.getMonth(); const l = s.getDate(), p = s.getDay(), M = r ? `${n} <span class="greg-date">${l} ${{ ar: ["يناير", "فبراير", "مارس", "إبريل", "مايو", "يونيو", "يوليو", "أغسطس", "سبتمبر", "أكتوبر", "نوفمبر", "ديسمبر"], en: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"] }[i][f]} ${d} ${h}</span>` : ""; y = function (t, a, r) { const n = Math.floor((t - 1) / 4), o = Math.floor((t - 1) / 100), i = Math.floor((t - 1) / 400), s = Math.floor((367 * a - 362) / 12); return a <= 2 ? e = 0 : a > 2 && function (t) { return t % 4 == 0 && t % 100 != 0 || t % 400 == 0 }(t) ? e = -1 : e = -2, 0 + 365 * (t - 1) + n - o + i + s + e + r }(d, ++f, l); let D = new g(1421, 11, 28); D = function (t) { const e = new g(1100, 1, 1); e.year = Math.floor((30 * (t - 227015) + 10646) / 10631); const a = new g(e.year, 1, 1), r = Math.ceil((t - 29 - a.toFixed()) / 29.5) + 1; return e.month = Math.min(r, 12), a.year = e.year, a.month = e.month, a.day = 1, e.day = t - a.toFixed() + 1, e }(y); a && { ar: ["الأحد", "الإثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة", "السبت"], en: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"] }[o][p]; const w = `<span class="hijri-year">${`${D.toString()}`}</span> ${M}`; this.html(w) };